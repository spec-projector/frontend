<jnt-app-aside #aside>

  <ng-template #asideFooterTemplate let-collapsed="collapsed">
    <jnt-stack data-edit [orientation]="ui.orientation.horizontal"
               [align]="ui.align.center"
               [justify]="ui.justify.between">
      <jnt-button [scheme]="ui.scheme.secondary"
                  [icon]="ui.icons.settings"
                  [shape]="ui.shape.circle"
                  (click)="editProject()"></jnt-button>
      <ng-container *ngIf="!collapsed" [formGroup]="form">
        <jnt-switch formControlName="mode"
                    [icons]="{off: ui.icons.unlock, on: ui.icons.lock}">
        </jnt-switch>
      </ng-container>
    </jnt-stack>
  </ng-template>

  <jnt-menu [orientation]="ui.orientation.vertical">
    <jnt-menu-item title="General"
                   i18n-title="@@label.general"
                   [icon]="localUi.icons.general"
                   [link]="['details']"></jnt-menu-item>
    <jnt-menu-item title="Dashboard"
                   i18n-title="@@label.dashboard"
                   [icon]="localUi.icons.dashboard"
                   [link]="['dashboard']"></jnt-menu-item>
    <jnt-menu-item title="Features"
                   i18n-title="@@label.features"
                   [icon]="localUi.icons.features"
                   [link]="['actors']"
                   [matching]="ui.matching.wildcard">
      <jnt-badge *ngIf="spec.actors.length > 0"
                 [value]="spec.actors.length"
                 [color]="ui.color.paleNavy"></jnt-badge>
    </jnt-menu-item>

    <jnt-menu-item title="Terms"
                   i18n-title="@@label.terms"
                   [icon]="localUi.icons.terms"
                   [link]="['terms']">
      <jnt-badge *ngIf="spec.terms.length > 0"
                 [value]="spec.terms.length"
                 [color]="ui.color.paleNavy"></jnt-badge>
    </jnt-menu-item>

    <jnt-menu-item title="Model"
                   i18n-title="@@label.model"
                   [icon]="localUi.icons.model">
      <jnt-badge *ngIf="spec.model.entities.length + spec.model.enums.length as count"
                 [color]="ui.color.paleNavy"
                 [value]="count"></jnt-badge>

      <jnt-sub-menu>
        <jnt-sub-menu-item title="Entities"
                           i18n-title="@@label.entities"
                           [icon]="localUi.icons.entities"
                           [link]="['model/entities']"
                           [matching]="ui.matching.wildcard">
          <jnt-badge *ngIf="spec.model.entities.length as count"
                     [color]="ui.color.paleNavy"
                     [value]="count"></jnt-badge>
        </jnt-sub-menu-item>
        <jnt-sub-menu-item title="Enums"
                           i18n-title="@@label.enums"
                           [icon]="localUi.icons.enums"
                           [link]="['model/enums']"
                           [matching]="ui.matching.wildcard">
          <jnt-badge *ngIf="spec.model.enums.length as count"
                     [color]="ui.color.paleNavy"
                     [value]="count"></jnt-badge>
        </jnt-sub-menu-item>
      </jnt-sub-menu>
    </jnt-menu-item>

    <jnt-menu-item [link]="['modules']"
                   title="Modules"
                   i18n-title="@@label.modules"
                   [icon]="localUi.icons.modules"
                   [matching]="ui.matching.wildcard">
      <jnt-badge *ngIf="spec.modules.length > 0"
                 [value]="spec.modules.length"
                 [color]="ui.color.paleNavy"></jnt-badge>
    </jnt-menu-item>

    <jnt-menu-item title="Sprints"
                   i18n-title="@@label.sprints"
                   [icon]="localUi.icons.sprints"
                   [link]="['sprints']">
      <jnt-badge *ngIf="spec.sprints.length > 0"
                 [value]="spec.sprints.length"
                 [color]="ui.color.paleNavy"></jnt-badge>
    </jnt-menu-item>


    <jnt-menu-item [link]="['print']"
                   title="Contract"
                   i18n-title="@@label.contract"
                   [icon]="localUi.icons.print"></jnt-menu-item>
    <!--

    <jnt-menu-item [link]="['validate']" title="Validate"
                   [icon]="localUi.icons.validate">
      <jnt-badge [value]="errors.length.toString()"></jnt-badge>
    </jnt-menu-item>
    -->

  </jnt-menu>
</jnt-app-aside>

<jnt-app-content [aside]="aside">
  <jnt-breadcrumb></jnt-breadcrumb>

  <jnt-app-body>
    <jnt-container [width]="ui.width.fluid">
      <router-outlet></router-outlet>
    </jnt-container>
  </jnt-app-body>

  <jnt-app-footer #footer>
    <small [ngSwitch]="locale">
      <ng-container *ngSwitchDefault>
        Junte 2016 - 2021<br> Any rights are NOT reserved, use this as you want ;-)
      </ng-container>
      <ng-container *ngSwitchCase="language.ru">
        Junte 2016 - 2021<br> Никакие права не защищены, используйте это так, как хотите ;-)
      </ng-container>
    </small>
    <jnt-link title="Support"
              i18n-title="@@label.support"
              [icon]="localUi.icons.support"
              [outline]="ui.outline.ghost"
              [source]="['/support']"></jnt-link>
  </jnt-app-footer>
</jnt-app-content>
