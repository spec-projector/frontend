<jnt-app-aside #aside>
    <form [formGroup]="form">
        <jnt-switch formControlName="mode" label="edit"
                    [size]="ui.sizes.tiny">
        </jnt-switch>
    </form>

    <jnt-menu [type]="ui.orientation.vertical" [spacer]="ui.sizes.small">
        <jnt-menu-item [link]="['print']" title="Print"></jnt-menu-item>
      <jnt-menu-item [link]="['details']" title="General"
                     [icon]="localUi.icons.general"></jnt-menu-item>
        <jnt-menu-item [link]="['actors']" title="Features"
                       [icon]="localUi.icons.features">
            <jnt-badge [count]="spec?.actors.length.toString()"></jnt-badge>
        </jnt-menu-item>
        <jnt-menu-item [link]="['epics']" title="Epics"
                       [icon]="localUi.icons.epics">
            <jnt-badge [count]="spec?.epics.length.toString()"></jnt-badge>
        </jnt-menu-item>
        <jnt-menu-item [link]="['terms']" title="Knowledge"
                       [icon]="localUi.icons.terms">
            <jnt-badge [count]="spec?.terms.length.toString()"></jnt-badge>
        </jnt-menu-item>
        <jnt-menu-item [link]="['packages']" title="Model"
                       [icon]="localUi.icons.model">
            <jnt-badge [count]="spec?.packages.length.toString()"></jnt-badge>
        </jnt-menu-item>
        <jnt-menu-item [link]="['sprints']" title="Sprints"
                       [icon]="localUi.icons.sprints">
            <jnt-badge [count]="spec?.sprints.length.toString()"></jnt-badge>
        </jnt-menu-item>
        <jnt-menu-item [link]="['validate']" title="Validate"
                       [icon]="localUi.icons.validate">
            <jnt-badge [count]="errors.length.toString()"></jnt-badge>
        </jnt-menu-item>
    </jnt-menu>
    <div controls>
        <h3>Epics</h3>
        <ul cdkDropList id="epics" cdkDropListOrientation="horizontal"
            [cdkDropListConnectedTo]="spec | features">
            <li *ngFor="let epic of spec.epics"
                cdkDrag [cdkDragData]="{id: epic.id}" epic>
                {{epic.title}}
                <div *cdkDragPlaceholder>
                    <jnt-icon [icon]="ui.icons.font.plus"></jnt-icon>
                </div>
            </li>
        </ul>
        <h3>Entities</h3>
        <ul>
            <li *ngFor="let pack of spec.packages">
                <p>{{pack.title}}</p>
                <ul>
                    <li *ngFor="let entity of pack.entities"
                        [dndDraggable]="{id: entity.id}"
                        [dndEffectAllowed]="'copyLink'"
                        dndType="entity">
                        {{entity.title}}
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</jnt-app-aside>

<jnt-app-content [aside]="aside">
    <jnt-app-sub-header (burger)="aside.toggle()">
        <jnt-breadcrumb></jnt-breadcrumb>
    </jnt-app-sub-header>

    <jnt-app-body>
        <jnt-container [width]="ui.width.fluid">
            <router-outlet></router-outlet>
        </jnt-container>
    </jnt-app-body>
    <jnt-app-footer #footer>
        <small>Junte 2008 - 2019<br> Any rights are NOT reserved, use this as you want ;-)</small>
    </jnt-app-footer>
</jnt-app-content>
