<jnt-app-aside #aside>
    <jnt-stack [align]="ui.flex.align.center" actions>
        <div>
            <a href="" #dumpFile></a>
            <jnt-button text="Dump" (click)="dump(dumpFile)"></jnt-button>
        </div>
        <div>
            <jnt-button [loading]="progress.restore"
                        text="Restore" (click)="restoreInput.click()"></jnt-button>
            <input #restoreInput fileInput type="file" (change)="restore($event)"/>
        </div>
    </jnt-stack>
    <jnt-menu [type]="ui.type.vertical" [spacer]="ui.sizes.small">
        <jnt-menu-item [link]="['sprints']" title="Sprints ({{spec?.sprints.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
        <jnt-menu-item [link]="['epics']" title="Epics ({{spec?.epics.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
        <jnt-menu-item [link]="['actors']" title="Features ({{spec?.actors.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
        <jnt-menu-item [link]="['terms']" title="Terms ({{spec?.terms.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
        <jnt-menu-item [link]="['packages']" title="Model ({{spec?.packages.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
        <jnt-menu-item [link]="['validate']" title="Validate ({{errors.length}})"
                       [icon]="ui.icons.minus"></jnt-menu-item>
    </jnt-menu>
    <div controls>
        <form [formGroup]="form">
            <jnt-switch formControlName="mode" label="edit"
                        [size]="ui.sizes.tiny">
            </jnt-switch>
        </form>

        <p><b>Epics</b></p>
        <ul cdkDropList id="epics" cdkDropListOrientation="horizontal"
            [cdkDropListConnectedTo]="spec | features">
            <li *ngFor="let epic of spec.epics"
                cdkDrag [cdkDragData]="{id: epic.id}" epic>
                {{epic.title}}
                <div *cdkDragPlaceholder>
                    <jnt-icon [icon]="ui.icons.font.plus"></jnt-icon>
                </div>
            </li>
        </ul>
        <p><b>Entities</b></p>
        <ul>
            <li *ngFor="let pack of spec.packages">
                <p>{{pack.title}}</p>
                <ul>
                    <li *ngFor="let entity of pack.entities"
                        [dndDraggable]="{id: entity.id}"
                        [dndEffectAllowed]="'copyLink'"
                        dndType="entity">
                        {{entity.title}}
                    </li>
                </ul>
            </li>
        </ul>

        <p><b>Actors</b></p>
        <ul>
            <li *ngFor="let actor of spec.actors">
                {{actor.name}}
            </li>
        </ul>
    </div>
</jnt-app-aside>
<jnt-app-content [aside]="aside">
    <jnt-app-sub-header (burger)="aside.toggle()">
        <jnt-container [width]="ui.width.fluid">
            <jnt-breadcrumb></jnt-breadcrumb>
        </jnt-container>
    </jnt-app-sub-header>
    <jnt-app-body>
        <jnt-container [width]="ui.width.fluid">
            <router-outlet></router-outlet>
        </jnt-container>
    </jnt-app-body>
    <jnt-app-footer>
        <small>Junte 2008 - 2019<br> Any rights are NOT reserved, use this as you want ;-)</small>
    </jnt-app-footer>

</jnt-app-content>
